<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Docker," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="安装 Docker官方网站上有各种环境下的安装指南，这里主要介绍下 Ubuntu、Debian 和 CentOS 系列的安装。 版本及系统要求Docker版本说明2017/3/3，Docker官方发表了一篇博客，Docker版本从1.13.*直接跳入17.03，该版本的意思是17年3月。同时，还声明了Docker以后会以CE（Community Edition）和EE（Enterprise Edi">
<meta name="keywords" content="Docker">
<meta property="og:type" content="article">
<meta property="og:title" content="Docker(二)安装">
<meta property="og:url" content="http://yoursite.com/2017/09/01/Docker(二)安装/index.html">
<meta property="og:site_name" content="LT&#39;s Notes">
<meta property="og:description" content="安装 Docker官方网站上有各种环境下的安装指南，这里主要介绍下 Ubuntu、Debian 和 CentOS 系列的安装。 版本及系统要求Docker版本说明2017/3/3，Docker官方发表了一篇博客，Docker版本从1.13.*直接跳入17.03，该版本的意思是17年3月。同时，还声明了Docker以后会以CE（Community Edition）和EE（Enterprise Edi">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-09-01T14:32:07.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Docker(二)安装">
<meta name="twitter:description" content="安装 Docker官方网站上有各种环境下的安装指南，这里主要介绍下 Ubuntu、Debian 和 CentOS 系列的安装。 版本及系统要求Docker版本说明2017/3/3，Docker官方发表了一篇博客，Docker版本从1.13.*直接跳入17.03，该版本的意思是17年3月。同时，还声明了Docker以后会以CE（Community Edition）和EE（Enterprise Edi">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/09/01/Docker(二)安装/"/>





  <title>Docker(二)安装 | LT's Notes</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">LT's Notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">LT's Notes</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/01/Docker(二)安装/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="LT">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LT's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Docker(二)安装</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-01T22:31:37+08:00">
                2017-09-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="安装-Docker"><a href="#安装-Docker" class="headerlink" title="安装 Docker"></a>安装 Docker</h1><p>官方网站上有各种环境下的安装指南，这里主要介绍下 Ubuntu、Debian 和 CentOS 系列的安装。</p>
<h2 id="版本及系统要求"><a href="#版本及系统要求" class="headerlink" title="版本及系统要求"></a>版本及系统要求</h2><h3 id="Docker版本说明"><a href="#Docker版本说明" class="headerlink" title="Docker版本说明"></a>Docker版本说明</h3><p>2017/3/3，Docker官方发表了一篇博客，Docker版本从1.13.*直接跳入17.03，该版本的意思是17年3月。同时，还声明了Docker以后会以CE（Community Edition）和EE（Enterprise Edition）的形式发布。其中，CE版本每个月发布一次，也就是说，随后的版本就是17.03、17.04、17.05等，而EE的版本是每三个月发布一次，对应的就是17.03、17.06等。对于发布的每个EE版本，Docker官网都会提供一年的技术支持。</p>
<h3 id="CE和EE对各OS发行版的支持情况-V17-03"><a href="#CE和EE对各OS发行版的支持情况-V17-03" class="headerlink" title="CE和EE对各OS发行版的支持情况(V17.03)"></a>CE和EE对各OS发行版的支持情况(V17.03)</h3><table>
<thead>
<tr>
<th>Platform</th>
<th>Docker EE</th>
<th>Docker CE</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ubuntu</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr>
<td>Debian</td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td>Red Hat Enterprise Linux yes</td>
<td>yes</td>
<td></td>
</tr>
<tr>
<td>CentOS</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr>
<td>Fedora</td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td>Oracle Linux</td>
<td>yes</td>
<td></td>
</tr>
<tr>
<td>SUSE Linux Enterprise Server</td>
<td>yes</td>
<td></td>
</tr>
<tr>
<td>Microsoft Windows Server 2016</td>
<td>yes</td>
<td></td>
</tr>
<tr>
<td>Microsoft Windows 10</td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td>macOS</td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td>Microsoft Azure</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr>
<td>Amazon Web Services</td>
<td>yes</td>
<td>yes</td>
</tr>
</tbody>
</table>
<a id="more"></a>
<h2 id="CentOS-操作系统安装-Docker"><a href="#CentOS-操作系统安装-Docker" class="headerlink" title="CentOS 操作系统安装 Docker"></a>CentOS 操作系统安装 Docker</h2><h3 id="系统要求"><a href="#系统要求" class="headerlink" title="系统要求"></a>系统要求</h3><p>Docker 最低支持 CentOS 7。</p>
<p>Docker 需要安装在 64 位的平台，并且内核版本不低于 3.10。 CentOS 7 满足最低内核的要求，但由于内核版本比较低，部分功能（如 <code>overlay2</code> 存储层驱动）无法使用，并且部分功能可能不太稳定。</p>
<h3 id="使用脚本自动安装"><a href="#使用脚本自动安装" class="headerlink" title="使用脚本自动安装"></a>使用脚本自动安装</h3><p>Docker 官方为了简化安装流程，提供了一套安装脚本，CentOS 系统上可以使用这套脚本安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -sSL https://get.docker.com/ | sh</div></pre></td></tr></table></figure>
<p>执行这个命令后，脚本就会自动的将一切准备工作做好，并且把 Docker 安装在系统中。</p>
<p>不过，由于伟大的墙的原因，在国内使用这个脚本可能会出现某些下载出现错误的情况。国内的一些云服务商提供了这个脚本的修改版本，使其使用国内的 Docker 软件源镜像安装，这样就避免了墙的干扰。</p>
<h4 id="阿里云的安装脚本"><a href="#阿里云的安装脚本" class="headerlink" title="阿里云的安装脚本"></a>阿里云的安装脚本</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -</div></pre></td></tr></table></figure>
<h4 id="DaoCloud-的安装脚本"><a href="#DaoCloud-的安装脚本" class="headerlink" title="DaoCloud 的安装脚本"></a>DaoCloud 的安装脚本</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -sSL https://get.daocloud.io/docker | sh</div></pre></td></tr></table></figure>
<h3 id="手动安装"><a href="#手动安装" class="headerlink" title="手动安装"></a>手动安装</h3><h4 id="添加内核参数"><a href="#添加内核参数" class="headerlink" title="添加内核参数"></a>添加内核参数</h4><p>默认配置下，在 CentOS 使用 Docker 可能会碰到下面的这些警告信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">WARNING: bridge-nf-call-iptables is disabled</div><div class="line">WARNING: bridge-nf-call-ip6tables is disabled</div></pre></td></tr></table></figure>
<p>添加内核配置参数以启用这些功能。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo tee -a /etc/sysctl.conf &lt;&lt;-EOF</div><div class="line">net.bridge.bridge-nf-call-ip6tables = 1</div><div class="line">net.bridge.bridge-nf-call-iptables = 1</div><div class="line">EOF</div></pre></td></tr></table></figure>
<p>然后重新加载 <code>sysctl.conf</code> 即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo sysctl -p</div></pre></td></tr></table></figure>
<h4 id="添加-yum-源"><a href="#添加-yum-源" class="headerlink" title="添加 yum 源"></a>添加 yum 源</h4><p>虽然 CentOS 软件源 <code>Extras</code> 中有 Docker，名为 <code>docker</code>，但是不建议使用系统源中的这个版本，它的版本相对比较陈旧，而且并非 Docker 官方维护的版本。因此，我们需要使用 Docker 官方提供的 CentOS 软件源。</p>
<p>执行下面的命令添加 <code>yum</code> 软件源。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ sudo tee /etc/yum.repos.d/docker.repo &lt;&lt;-<span class="string">'EOF'</span></div><div class="line">[dockerrepo]</div><div class="line">name=Docker Repository</div><div class="line">baseurl=https://yum.dockerproject.org/repo/main/centos/7/</div><div class="line">enabled=1</div><div class="line">gpgcheck=1</div><div class="line">gpgkey=https://yum.dockerproject.org/gpg</div><div class="line">EOF</div></pre></td></tr></table></figure>
<h4 id="安装-Docker-1"><a href="#安装-Docker-1" class="headerlink" title="安装 Docker"></a>安装 Docker</h4><p>更新 <code>yum</code> 软件源缓存，并安装 <code>docker-engine</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo yum update</div><div class="line">$ sudo yum install docker-engine</div></pre></td></tr></table></figure>
<h4 id="启动-Docker-引擎"><a href="#启动-Docker-引擎" class="headerlink" title="启动 Docker 引擎"></a>启动 Docker 引擎</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo systemctl <span class="built_in">enable</span> docker</div><div class="line">$ sudo systemctl start docker</div></pre></td></tr></table></figure>
<h4 id="建立-docker-用户组"><a href="#建立-docker-用户组" class="headerlink" title="建立 docker 用户组"></a>建立 docker 用户组</h4><p>默认情况下，<code>docker</code> 命令会使用 <a href="https://en.wikipedia.org/wiki/Unix_domain_socket" target="_blank" rel="external">Unix socket</a> 与 Docker 引擎通讯。而只有 <code>root</code> 用户和 <code>docker</code> 组的用户才可以访问 Docker 引擎的 Unix socket。出于安全考虑，一般 Linux 系统上不会直接使用 <code>root</code> 用户。因此，更好地做法是将需要使用 <code>docker</code> 的用户加入 <code>docker</code> 用户组。</p>
<p>建立 <code>docker</code> 组：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo groupadd docker</div></pre></td></tr></table></figure>
<p>将当前用户加入 <code>docker</code> 组：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo usermod -aG docker <span class="variable">$USER</span></div></pre></td></tr></table></figure>
<h3 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h3><p>参见 <a href="https://docs.docker.com/engine/installation/linux/centos/" target="_blank" rel="external">Docker 官方 CentOS 安装文档</a>。</p>
<h2 id="Ubuntu、Debian-系列安装-Docker"><a href="#Ubuntu、Debian-系列安装-Docker" class="headerlink" title="Ubuntu、Debian 系列安装 Docker"></a>Ubuntu、Debian 系列安装 Docker</h2><h3 id="系统要求-1"><a href="#系统要求-1" class="headerlink" title="系统要求"></a>系统要求</h3><p>Docker 支持以下版本的 <a href="https://www.ubuntu.com/server" target="_blank" rel="external">Ubuntu</a> 和 <a href="https://www.debian.org/intro/about" target="_blank" rel="external">Debian</a> 操作系统：</p>
<ul>
<li>Ubuntu Xenial 16.04 (LTS)</li>
<li>Ubuntu Trusty 14.04 (LTS)</li>
<li>Ubuntu Precise 12.04 (LTS)</li>
<li>Debian testing stretch (64-bit)</li>
<li>Debian 8 Jessie (64-bit)</li>
<li>Debian 7 Wheezy (64-bit)（<em>必须启用 backports</em>)</li>
</ul>
<p>Ubuntu 发行版中，LTS（Long-Term-Support）长期支持版本，会获得 5 年的升级维护支持，这样的版本会更稳定，因此在生产环境中推荐使用 LTS 版本。</p>
<p>Docker 目前支持的 Ubuntu 版本最低为 12.04 LTS，但从稳定性上考虑，推荐使用 14.04 LTS 或更高的版本。</p>
<p>Docker 需要安装在 64 位的 x86 平台或 ARM 平台上（如<a href="https://www.raspberrypi.org/" target="_blank" rel="external">树莓派</a>），并且要求内核版本不低于 3.10。但实际上内核越新越好，过低的内核版本可能会出现部分功能无法使用，或者不稳定。</p>
<p>用户可以通过如下命令检查自己的内核版本详细信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ uname -a</div><div class="line">Linux device 4.4.0-45-generic <span class="comment">#66~14.04.1-Ubuntu SMP Wed Oct 19 15:05:38 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux</span></div></pre></td></tr></table></figure>
<h4 id="升级内核"><a href="#升级内核" class="headerlink" title="升级内核"></a>升级内核</h4><p>如果内核版本过低，可以用下面的命令升级系统内核。</p>
<h5 id="Ubuntu-12-04-LTS"><a href="#Ubuntu-12-04-LTS" class="headerlink" title="Ubuntu 12.04 LTS"></a>Ubuntu 12.04 LTS</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install -y --install-recommends linux-generic-lts-trusty</div></pre></td></tr></table></figure>
<h5 id="Ubuntu-14-04-LTS"><a href="#Ubuntu-14-04-LTS" class="headerlink" title="Ubuntu 14.04 LTS"></a>Ubuntu 14.04 LTS</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install -y --install-recommends linux-generic-lts-xenial</div></pre></td></tr></table></figure>
<h5 id="Debian-7-Wheezy"><a href="#Debian-7-Wheezy" class="headerlink" title="Debian 7 Wheezy"></a>Debian 7 Wheezy</h5><p>Debian 7 的内核默认为 3.2，为了满足 Docker 的需求，应该安装 <code>backports</code> 的内核。</p>
<p>执行下面的命令添加 <code>backports</code> 源：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">echo</span> <span class="string">"deb http://http.debian.net/debian wheezy-backports main"</span> | sudo tee /etc/apt/sources.list.d/backports.list</div></pre></td></tr></table></figure>
<p>升级到 <code>backports</code> 内核：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get -t wheezy-backports install linux-image-amd64</div></pre></td></tr></table></figure>
<h5 id="Debian-8-Jessie"><a href="#Debian-8-Jessie" class="headerlink" title="Debian 8 Jessie"></a>Debian 8 Jessie</h5><p>Debian 8 的内核默认为 3.16，满足基本的 Docker 运行条件。但是如果打算使用 <code>overlay2</code> 存储层驱动，或某些功能不够稳定希望升级到较新版本的内核，可以添加 <code>backports</code> 源，升级到新版本的内核。</p>
<p>执行下面的命令添加 <code>backports</code> 源：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">echo</span> <span class="string">"deb http://http.debian.net/debian jessie-backports main"</span> | sudo tee /etc/apt/sources.list.d/backports.list</div></pre></td></tr></table></figure>
<p>升级到 <code>backports</code> 内核：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get -t jessie-backports install linux-image-amd64</div></pre></td></tr></table></figure>
<p>需要注意的是，升级到 <code>backports</code> 的内核之后，会因为 <code>AUFS</code> 内核模块不可用，而使用默认的 <code>devicemapper</code> 驱动，并且配置为 <code>loop-lvm</code>，这是不推荐的。因此，不要忘记安装 Docker 后，配置 <code>overlay2</code> 存储层驱动。</p>
<h5 id="配置-GRUB-引导参数"><a href="#配置-GRUB-引导参数" class="headerlink" title="配置 GRUB 引导参数"></a>配置 GRUB 引导参数</h5><p>在 Docker 使用期间，或者在 <code>docker info</code> 信息中，可能会看到下面的警告信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">WARNING: Your kernel does not support cgroup swap <span class="built_in">limit</span>. WARNING: Your</div><div class="line">kernel does not support swap <span class="built_in">limit</span> capabilities. Limitation discarded.</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">WARNING: No memory <span class="built_in">limit</span> support</div><div class="line">WARNING: No swap <span class="built_in">limit</span> support</div><div class="line">WARNING: No oom <span class="built_in">kill</span> <span class="built_in">disable</span> support</div></pre></td></tr></table></figure>
<p>如果需要这些功能，就需要修改 GRUB 的配置文件 <code>/etc/default/grub</code>，在 <code>GRUB_CMDLINE_LINUX</code> 中添加内核引导参数 <code>cgroup_enable=memory swapaccount=1</code>。</p>
<p>然后不要忘记了更新 GRUB：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo update-grub</div><div class="line">$ sudo reboot</div></pre></td></tr></table></figure>
<h3 id="使用脚本自动安装-1"><a href="#使用脚本自动安装-1" class="headerlink" title="使用脚本自动安装"></a>使用脚本自动安装</h3><p>Docker 官方为了简化安装流程，提供了一套安装脚本，Ubuntu 和 Debian 系统可以使用这套脚本安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -sSL https://get.docker.com/ | sh</div></pre></td></tr></table></figure>
<p>执行这个命令后，脚本就会自动的将一切准备工作做好，并且把 Docker 安装在系统中。</p>
<p>不过，由于伟大的墙的原因，在国内使用这个脚本可能会出现某些下载出现错误的情况。国内的一些云服务商提供了这个脚本的修改版本，使其使用国内的 Docker 软件源镜像安装，这样就避免了墙的干扰。</p>
<h4 id="阿里云的安装脚本-1"><a href="#阿里云的安装脚本-1" class="headerlink" title="阿里云的安装脚本"></a>阿里云的安装脚本</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -</div></pre></td></tr></table></figure>
<h4 id="DaoCloud-的安装脚本-1"><a href="#DaoCloud-的安装脚本-1" class="headerlink" title="DaoCloud 的安装脚本"></a>DaoCloud 的安装脚本</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -sSL https://get.daocloud.io/docker | sh</div></pre></td></tr></table></figure>
<h3 id="手动安装-1"><a href="#手动安装-1" class="headerlink" title="手动安装"></a>手动安装</h3><h4 id="安装所需的软件包"><a href="#安装所需的软件包" class="headerlink" title="安装所需的软件包"></a>安装所需的软件包</h4><h5 id="可选内核模块"><a href="#可选内核模块" class="headerlink" title="可选内核模块"></a>可选内核模块</h5><p>从 Ubuntu 14.04 开始，一部分内核模块移到了可选内核模块包(<code>linux-image-extra-*</code>)，以减少内核软件包的体积。正常安装的系统应该会包含可选内核模块包，而一些裁剪后的系统可能会将其精简掉。<code>AUFS</code> 内核驱动属于可选内核模块的一部分，作为推荐的 Docker 存储层驱动，一般建议安装可选内核模块包以使用 <code>AUFS</code>。</p>
<p>如果系统没有安装可选内核模块的话，可以执行下面的命令来安装可选内核模块包：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install linux-image-extra-$(uname -r) linux-image-extra-virtual</div></pre></td></tr></table></figure>
<h5 id="12-04-LTS-图形界面"><a href="#12-04-LTS-图形界面" class="headerlink" title="12.04 LTS 图形界面"></a>12.04 LTS 图形界面</h5><p>在 Ubuntu 12.04 桌面环境下，需要一些额外的软件包，可以用下面的命令安装。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install xserver-xorg-lts-trusty libgl1-mesa-glx-lts-trusty</div></pre></td></tr></table></figure>
<h4 id="添加-APT-镜像源"><a href="#添加-APT-镜像源" class="headerlink" title="添加 APT 镜像源"></a>添加 APT 镜像源</h4><p>虽然 Ubuntu 系统软件源中有 Docker，名为 <code>docker.io</code>，但是不应该使用系统源中的这个版本，它的版本太旧。我们需要使用 Docker 官方提供的软件源，因此，我们需要添加 APT 软件源。</p>
<p>由于官方源使用 HTTPS 以确保软件下载过程中不被篡改。因此，我们首先需要添加使用 HTTPS 传输的软件包以及 CA 证书。</p>
<p><em>国内的一些软件源镜像（比如<a href="http://mirrors.aliyun.com/docker-engine/" target="_blank" rel="external">阿里云</a>）不是太在意系统安全上的细节，可能依旧使用不安全的 HTTP，对于这些源可以不执行这一步。</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install apt-transport-https ca-certificates</div></pre></td></tr></table></figure>
<p>为了确认所下载软件包的合法性，需要添加 Docker 官方软件源的 GPG 密钥。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D</div></pre></td></tr></table></figure>
<p>然后，我们需要向 <code>source.list</code> 中添加 Docker 软件源，下表列出了不同的 Ubuntu 和 Debian 版本对应的 APT 源。</p>
<table>
<thead>
<tr>
<th>操作系统版本</th>
<th>REPO</th>
</tr>
</thead>
<tbody>
<tr>
<td>Precise 12.04 (LTS)</td>
<td><code>deb https://apt.dockerproject.org/repo ubuntu-precise main</code></td>
</tr>
<tr>
<td>Trusty 14.04 (LTS)</td>
<td><code>deb https://apt.dockerproject.org/repo ubuntu-trusty main</code></td>
</tr>
<tr>
<td>Xenial 16.04 (LTS)</td>
<td><code>deb https://apt.dockerproject.org/repo ubuntu-xenial main</code></td>
</tr>
<tr>
<td>Debian 7 Wheezy</td>
<td><code>deb https://apt.dockerproject.org/repo debian-wheezy main</code></td>
</tr>
<tr>
<td>Debian 8 Jessie</td>
<td><code>deb https://apt.dockerproject.org/repo debian-jessie main</code></td>
</tr>
<tr>
<td>Debian Stretch/Sid</td>
<td><code>deb https://apt.dockerproject.org/repo debian-stretch main</code></td>
</tr>
</tbody>
</table>
<p>用下面的命令将 APT 源添加到 <code>source.list</code>（将其中的 <code>&lt;REPO&gt;</code> 替换为上表的值）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">echo</span> <span class="string">"&lt;REPO&gt;"</span> | sudo tee /etc/apt/sources.list.d/docker.list</div></pre></td></tr></table></figure>
<p>添加成功后，更新 apt 软件包缓存。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div></pre></td></tr></table></figure>
<h4 id="安装-Docker-2"><a href="#安装-Docker-2" class="headerlink" title="安装 Docker"></a>安装 Docker</h4><p>在一切准备就绪后，就可以安装最新版本的 Docker 了，软件包名称为 <code>docker-engine</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install docker-engine</div></pre></td></tr></table></figure>
<p>如果系统中存在旧版本的 Docker （<code>lxc-docker</code>, <code>docker.io</code>），会提示是否先删除，选择是即可。</p>
<h4 id="启动-Docker-引擎-1"><a href="#启动-Docker-引擎-1" class="headerlink" title="启动 Docker 引擎"></a>启动 Docker 引擎</h4><h5 id="Ubuntu-12-04-14-04、Debian-7-Wheezy"><a href="#Ubuntu-12-04-14-04、Debian-7-Wheezy" class="headerlink" title="Ubuntu 12.04/14.04、Debian 7 Wheezy"></a>Ubuntu 12.04/14.04、Debian 7 Wheezy</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo service docker start</div></pre></td></tr></table></figure>
<h5 id="Ubuntu-16-04、Debian-8-Jessie-Stretch"><a href="#Ubuntu-16-04、Debian-8-Jessie-Stretch" class="headerlink" title="Ubuntu 16.04、Debian 8 Jessie/Stretch"></a>Ubuntu 16.04、Debian 8 Jessie/Stretch</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo systemctl <span class="built_in">enable</span> docker</div><div class="line">$ sudo systemctl start docker</div></pre></td></tr></table></figure>
<h4 id="建立-docker-用户组-1"><a href="#建立-docker-用户组-1" class="headerlink" title="建立 docker 用户组"></a>建立 docker 用户组</h4><p>默认情况下，<code>docker</code> 命令会使用 <a href="https://en.wikipedia.org/wiki/Unix_domain_socket" target="_blank" rel="external">Unix socket</a> 与 Docker 引擎通讯。而只有 <code>root</code> 用户和 <code>docker</code> 组的用户才可以访问 Docker 引擎的 Unix socket。出于安全考虑，一般 Linux 系统上不会直接使用 <code>root</code> 用户。因此，更好地做法是将需要使用 <code>docker</code> 的用户加入 <code>docker</code> 用户组。</p>
<p>建立 <code>docker</code> 组：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo groupadd docker</div></pre></td></tr></table></figure>
<p>将当前用户加入 <code>docker</code> 组：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo usermod -aG docker <span class="variable">$USER</span></div></pre></td></tr></table></figure>
<h3 id="参考文档-1"><a href="#参考文档-1" class="headerlink" title="参考文档"></a>参考文档</h3><ul>
<li><a href="https://docs.docker.com/engine/installation/linux/ubuntulinux/" target="_blank" rel="external">Docker 官方 Ubuntu 安装文档</a></li>
<li><a href="https://docs.docker.com/engine/installation/linux/debian/" target="_blank" rel="external">Docker 官方 Debian 安装文档</a></li>
</ul>
<h2 id="Docker的离线安装"><a href="#Docker的离线安装" class="headerlink" title="Docker的离线安装"></a>Docker的离线安装</h2><p>受限网络无法在线安装，可采用官方文档中的如下方式进行离线安装：</p>
<h2 id="Install-from-a-package"><a href="#Install-from-a-package" class="headerlink" title="Install from a package"></a>Install from a package</h2><p>If you cannot use Docker’s repository to install Docker, you can download the .rpm file for your release and install it manually. You will need to download a new file each time you want to upgrade Docker.</p>
<ol>
<li><p>Go to <a href="https://download.docker.com/linux/centos/7/x86_64/stable/Packages/" target="_blank" rel="external">https://download.docker.com/linux/centos/7/x86_64/stable/Packages/</a> and download the .rpm file for the Docker version you want to install.</p>
</li>
<li><p>Install Docker CE, changing the path below to the path where you downloaded the Docker package.</p>
<p> $ sudo yum install /path/to/package.rpm</p>
</li>
</ol>
<h2 id="Docker官方镜像加速"><a href="#Docker官方镜像加速" class="headerlink" title="Docker官方镜像加速"></a>Docker官方镜像加速</h2><h3 id="修改镜像源"><a href="#修改镜像源" class="headerlink" title="修改镜像源"></a>修改镜像源</h3><p>通过 Docker 官方镜像加速，中国区用户能够快速访问最流行的 Docker 镜像。该镜像托管于中国大陆，本地用户现在将会享受到更快的下载速度和更强的稳定性，从而能够更敏捷地开发和交付 Docker 化应用。</p>
<p>Docker 中国官方镜像加速可通过 registry.docker-cn.com 访问。该镜像库只包含流行的公有镜像。私有镜像仍需要从美国镜像库中拉取。</p>
<p>修改 /etc/docker/daemon.json 文件并添加上 registry-mirrors 键值，保存后重启docker以生效</p>
<pre><code>{
&quot;registry-mirrors&quot;: [&quot;https://registry.docker-cn.com&quot;]
}
</code></pre><h3 id="内网代理设置"><a href="#内网代理设置" class="headerlink" title="内网代理设置"></a>内网代理设置</h3><p>First, create a systemd drop-in directory for the docker service:</p>
<pre><code>mkdir /etc/systemd/system/docker.service.d
</code></pre><p>Now create a file called /etc/systemd/system/docker.service.d/http-proxy.conf that adds the HTTP_PROXY environment variable:</p>
<pre><code>[Service]
Environment=&quot;HTTP_PROXY=http://proxy.example.com:80/&quot;
</code></pre><p>If you have internal Docker registries that you need to contact without proxying you can specify them via the NO_PROXY environment variable:</p>
<pre><code>Environment=&quot;HTTP_PROXY=http://proxy.example.com:80/&quot;
Environment=&quot;NO_PROXY=localhost,127.0.0.0/8,docker-registry.somecorporation.com&quot;
</code></pre><p>Flush changes:</p>
<pre><code>$ sudo systemctl daemon-reload
</code></pre><p>Verify that the configuration has been loaded:</p>
<pre><code>$ sudo systemctl show docker --property Environment
Environment=HTTP_PROXY=http://proxy.example.com:80/
</code></pre><p>Restart Docker:</p>
<pre><code>$ sudo systemctl restart docker
</code></pre>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Docker/" rel="tag"># Docker</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/09/01/Docker(一)简介/" rel="next" title="Docker(一)简介">
                <i class="fa fa-chevron-left"></i> Docker(一)简介
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/09/01/Docker(三)镜像/" rel="prev" title="Docker(三)镜像">
                Docker(三)镜像 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <p class="site-author-name" itemprop="name">LT</p>
            <p class="site-description motion-element" itemprop="description">Just some notes.</p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives">
            
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#安装-Docker"><span class="nav-number">1.</span> <span class="nav-text">安装 Docker</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#版本及系统要求"><span class="nav-number">1.1.</span> <span class="nav-text">版本及系统要求</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Docker版本说明"><span class="nav-number">1.1.1.</span> <span class="nav-text">Docker版本说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CE和EE对各OS发行版的支持情况-V17-03"><span class="nav-number">1.1.2.</span> <span class="nav-text">CE和EE对各OS发行版的支持情况(V17.03)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CentOS-操作系统安装-Docker"><span class="nav-number">1.2.</span> <span class="nav-text">CentOS 操作系统安装 Docker</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#系统要求"><span class="nav-number">1.2.1.</span> <span class="nav-text">系统要求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用脚本自动安装"><span class="nav-number">1.2.2.</span> <span class="nav-text">使用脚本自动安装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#阿里云的安装脚本"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">阿里云的安装脚本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DaoCloud-的安装脚本"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">DaoCloud 的安装脚本</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#手动安装"><span class="nav-number">1.2.3.</span> <span class="nav-text">手动安装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#添加内核参数"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">添加内核参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加-yum-源"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">添加 yum 源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安装-Docker-1"><span class="nav-number">1.2.3.3.</span> <span class="nav-text">安装 Docker</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#启动-Docker-引擎"><span class="nav-number">1.2.3.4.</span> <span class="nav-text">启动 Docker 引擎</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#建立-docker-用户组"><span class="nav-number">1.2.3.5.</span> <span class="nav-text">建立 docker 用户组</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参考文档"><span class="nav-number">1.2.4.</span> <span class="nav-text">参考文档</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Ubuntu、Debian-系列安装-Docker"><span class="nav-number">1.3.</span> <span class="nav-text">Ubuntu、Debian 系列安装 Docker</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#系统要求-1"><span class="nav-number">1.3.1.</span> <span class="nav-text">系统要求</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#升级内核"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">升级内核</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Ubuntu-12-04-LTS"><span class="nav-number">1.3.1.1.1.</span> <span class="nav-text">Ubuntu 12.04 LTS</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Ubuntu-14-04-LTS"><span class="nav-number">1.3.1.1.2.</span> <span class="nav-text">Ubuntu 14.04 LTS</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Debian-7-Wheezy"><span class="nav-number">1.3.1.1.3.</span> <span class="nav-text">Debian 7 Wheezy</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Debian-8-Jessie"><span class="nav-number">1.3.1.1.4.</span> <span class="nav-text">Debian 8 Jessie</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#配置-GRUB-引导参数"><span class="nav-number">1.3.1.1.5.</span> <span class="nav-text">配置 GRUB 引导参数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用脚本自动安装-1"><span class="nav-number">1.3.2.</span> <span class="nav-text">使用脚本自动安装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#阿里云的安装脚本-1"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">阿里云的安装脚本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DaoCloud-的安装脚本-1"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">DaoCloud 的安装脚本</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#手动安装-1"><span class="nav-number">1.3.3.</span> <span class="nav-text">手动安装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#安装所需的软件包"><span class="nav-number">1.3.3.1.</span> <span class="nav-text">安装所需的软件包</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#可选内核模块"><span class="nav-number">1.3.3.1.1.</span> <span class="nav-text">可选内核模块</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#12-04-LTS-图形界面"><span class="nav-number">1.3.3.1.2.</span> <span class="nav-text">12.04 LTS 图形界面</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加-APT-镜像源"><span class="nav-number">1.3.3.2.</span> <span class="nav-text">添加 APT 镜像源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安装-Docker-2"><span class="nav-number">1.3.3.3.</span> <span class="nav-text">安装 Docker</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#启动-Docker-引擎-1"><span class="nav-number">1.3.3.4.</span> <span class="nav-text">启动 Docker 引擎</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Ubuntu-12-04-14-04、Debian-7-Wheezy"><span class="nav-number">1.3.3.4.1.</span> <span class="nav-text">Ubuntu 12.04/14.04、Debian 7 Wheezy</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Ubuntu-16-04、Debian-8-Jessie-Stretch"><span class="nav-number">1.3.3.4.2.</span> <span class="nav-text">Ubuntu 16.04、Debian 8 Jessie/Stretch</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#建立-docker-用户组-1"><span class="nav-number">1.3.3.5.</span> <span class="nav-text">建立 docker 用户组</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参考文档-1"><span class="nav-number">1.3.4.</span> <span class="nav-text">参考文档</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker的离线安装"><span class="nav-number">1.4.</span> <span class="nav-text">Docker的离线安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Install-from-a-package"><span class="nav-number">1.5.</span> <span class="nav-text">Install from a package</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker官方镜像加速"><span class="nav-number">1.6.</span> <span class="nav-text">Docker官方镜像加速</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改镜像源"><span class="nav-number">1.6.1.</span> <span class="nav-text">修改镜像源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#内网代理设置"><span class="nav-number">1.6.2.</span> <span class="nav-text">内网代理设置</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LT</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">主题 &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
